{"designerVersion":"1.2.19","favorite":false,"id":"3056d223-e7df-4669-ac5a-364f46afaf7d","name":"altaCuenta","type":"form","lastUpdate":1480540577118,"rows":[[{"type":"container","dimension":{"xs":12,"sm":12,"md":2,"lg":2},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable"}},"reference":"eec929c1-da90-4fa3-9301-d74eba9ed371","rows":[[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"a3118f43-1d91-4760-99d7-2d1389bf70b4","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"textPanel imagenPanel"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"<br><br><em>Recuerda, los campos marcados con asterisco (*) son obligatorios.<br><br><br><br><br><br><br><br><br><br>\n<br><br><br><br><br><br><br>\n<br><br><br><br><br><br><br>\n<br><br><br><br><br><br><br>\n<br><br><br><br><br><br><br>\n<br><br>"},"alignment":{"type":"constant","value":"left"}},"reference":"c709a4de-8b21-4b74-b9db-8541a6c15fc5","id":"pbText"}]]},{"type":"formContainer","dimension":{"xs":12,"sm":12,"md":10,"lg":10},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"be53c398-fa5f-4df2-8f89-546c4ffa6102","container":{"type":"container","dimension":{"xs":12},"propertyValues":{},"reference":"dabeddd2-8d72-4d56-897a-220a424e2e2f","rows":[[{"type":"container","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable"}},"reference":"92d51308-c6e0-4f43-86bb-84c569f39113","rows":[[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"f8bd6cb8-5953-47ee-8c0e-b745e99179d7","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"backgroundTitlle"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"ALTA CUENTA"},"level":{"type":"constant","value":"Level 4"},"alignment":{"type":"constant","value":"center"}},"reference":"907efa97-d690-4eec-b1fd-2f078c87c594","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"1adc2c7a-3e6a-4785-8b97-711365e18a8c","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"textPanel"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"DATOS CLIENTE"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"7d298314-fa23-48be-a05a-9991904e2bca","id":"pbTitle"}],[{"type":"fragment","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"0d2ef42a-d41e-48e8-95e7-3e8739edf277","id":"43694ce6-7b2a-4366-a8d1-b85a45e0033c","binding":{}}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"0852a96c-473f-4eea-9917-608986e5f2a9","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"readOnly":{"type":"constant","value":false},"required":{"type":"constant","value":true},"minLength":{"type":"constant","value":""},"maxLength":{"type":"constant","value":500},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Observaciones"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"value":{"type":"variable","value":"formInput.c_altaCuenta.observaciones"}},"reference":"f0417f01-49eb-49e5-9f2f-c17b77e00101","id":"pbTextarea"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"validator"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Máximo 500 caracteres."},"alignment":{"type":"constant","value":"right"}},"reference":"8eec36fd-306c-49a0-a74d-9ec0b4a6aac9","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":6,"lg":6},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"required":{"type":"constant","value":true},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Próximo Paso"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation","value":"Select an option"},"availableValues":{"type":"expression","value":"listaProximoPaso"},"displayedKey":{"type":"constant","value":"nombre"},"returnedKey":{"type":"constant"},"value":{"type":"variable","value":"formInput.c_altaCuenta.proximoPaso"}},"reference":"6a50e77f-32b6-4b97-8596-355c2ad905c0","id":"pbSelect"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"8b16ce3d-a2f9-4d01-8f5b-654dca5e6a78","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"backgroundTitlleAux"},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"text":{"type":"interpolation","value":"Tipologías y Casuísticas"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"d66d4784-6021-4582-b444-5e01307ba193","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"6ebdddd1-fcdd-4304-adc2-b7508e72e247","id":"pbText"}],[{"type":"container","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"repeatedCollection":{"type":"variable","value":"formInput.c_altaCuenta.tipologiasCasuisticas"}},"reference":"79be0661-cc6b-4a3a-ac6a-13b6abe52ed3","rows":[[{"type":"fragment","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"6cff2ef7-9dec-424e-97ea-eb482d8aab3f","id":"e3ac796d-f916-4753-8b27-bfea7368abd0","binding":{"tipologiaCasuistica":"$item","values":"formInput"}}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"x"},"alignment":{"type":"constant","value":"right"},"buttonStyle":{"type":"constant","value":"danger"},"action":{"type":"constant","value":"Remove from collection"},"url":{"type":"interpolation"},"dataToSend":{"type":"constant"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation"},"collectionToModify":{"type":"variable","value":"$collection"},"collectionPosition":{"type":"constant","value":"Item"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable","value":"$item"}},"reference":"47fb136c-69bc-4112-aeb4-5d230578d920","id":"pbButton"}]]}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"+"},"alignment":{"type":"constant","value":"right"},"buttonStyle":{"type":"constant","value":"primary"},"action":{"type":"constant","value":"Add to collection"},"url":{"type":"interpolation"},"dataToSend":{"type":"constant"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation"},"collectionToModify":{"type":"variable","value":"formInput.c_altaCuenta.tipologiasCasuisticas"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"expression","value":"{  \"tipologias\" : {    \"id\" : \"\",    \"nombre\" : \"\"  },  \"casuisticas\" : {    \"id\" : \"\",    \"nombre\" : \"\"  }}"},"removeItem":{"type":"variable"}},"reference":"dddfd690-c3d4-4bc9-af7e-f67727d9317e","id":"pbButton"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"expression","value":"$form.$invalid"},"label":{"type":"interpolation","value":"Enviar"},"alignment":{"type":"constant","value":"center"},"buttonStyle":{"type":"constant","value":"primary"},"action":{"type":"constant","value":"Submit task"},"url":{"type":"interpolation"},"dataToSend":{"type":"expression","value":"formInput"},"dataFromSuccess":{"type":"variable","value":"succes"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation","value":"/bonita"},"collectionToModify":{"type":"variable"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable"}},"reference":"18667566-3b32-4834-acc3-3493422b4380","id":"pbButton"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"validator"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"{{validador}}"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"d1378e90-913b-45a9-9164-e10db42b63e7","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":true},"text":{"type":"interpolation","value":"<pre>formInput:{{formInput|json}}</pre>"},"alignment":{"type":"constant","value":"left"}},"reference":"1ceabca5-17f7-4e14-9ed6-163f676b6b7e","id":"pbText"}]]}]]}}]],"assets":[{"id":"39924a29-172c-40e9-b946-c87c1387cecb","name":"styleRadicacion.css","type":"css","order":1,"external":false},{"id":"4a4c37f6-eb7d-4a50-baa8-c58e6bc8f30e","name":"localization.json","type":"json","order":0,"external":false}],"inactiveAssets":[],"data":{"formInput":{"type":"json","value":"{\r\n  \"c_altaCuenta\" : {\r\n    \"proximoPaso\" : {\r\n      \"id\" : \"\",\r\n      \"nombre\" : \"\"\r\n    },\r\n    \"tipologiasCasuisticas\": [\r\n        {\r\n\t\t\t\"tipologias\": {\r\n\t\t\t\t\"id\" : \" \",\r\n\t\t\t\t\"nombre\" : \"\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\"casuisticas\": {\r\n\t\t\t\t\"id\" : \" \",\r\n\t\t\t\t\"nombre\" : \"\"\r\n\t\t\t} \r\n        }\r\n\t\t],\r\n    \"observaciones\" : \"\"\r\n  }\r\n}","exposed":false},"succes":{"type":"json","value":"{}","exposed":false},"taskId":{"type":"urlparameter","value":"id","exposed":false},"context":{"type":"url","value":"/bonita/API/bpm/userTask/{{taskId}}/context","exposed":false},"formOutput":{"type":"expression","value":"return {\n\t'c_altaCuenta': $data.formInput.c_altaCuenta\n};","exposed":false},"listaTipologia":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=tipologiaAltaCuenta","exposed":false},"listaCasuistica":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=casuisticaAltaCuenta&p={{formInput.c_altaCuenta.tipologiasCasuisticas.tipologias.id}}","exposed":false},"validador":{"type":"expression","value":"var lista = []\n\ntry{\n    if ($data.formInput.c_altaCuenta.observaciones === \"\"){\n        lista.push('El campo observaciones es obligatorio');\n    }\n}catch(Err){}\n\ntry{\n    if ($data.formInput.c_altaCuenta.proximoPaso === undefined){\n        lista.push('El campo próximo paso es obligatorio');\n    }\n}catch(Err){}\n\ntry{\n    if($data.esTipologiaCasuistica){\n        console.log('Entro');\n        $data.formInput.c_altaCuenta.tipologiasCasuisticas.forEach(function(element, index, array){\n        console.log('Recorrer');\n        if(element.tipologias === undefined || element.casuisticas === undefined){\n            console.log('Agregar');\n            lista.push('Faltan campos por diligenciar en el grupo de tipologías y casuísticas');\n            }\n        } );\n    }\n}catch(Err){}\n\nreturn lista [0];","exposed":false},"listaProximoPaso":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=ppAltaCuenta","exposed":false},"esTipologiaCasuistica":{"type":"expression","value":"return $data.formInput.c_altaCuenta.proximoPaso.id !== undefined && \n       $data.formInput.c_altaCuenta.proximoPaso.id === 7;","exposed":false},"observador":{"type":"expression","value":"try{\r\nif($data.formInput.c_altaCuenta.proximoPaso.id === 1){\r\n    $data.formInput.c_altaCuenta.tipologiasCasuisticas = [{tipologias:{id: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t                      nombre: \"N/A\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t            casuisticas:{id:0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t           nombre: \"N/A\"}}];}\r\n}catch(Err){}","exposed":false}}}