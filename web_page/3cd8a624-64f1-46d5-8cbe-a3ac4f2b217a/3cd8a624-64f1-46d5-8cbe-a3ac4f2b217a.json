{"designerVersion":"1.2.19","favorite":false,"id":"3cd8a624-64f1-46d5-8cbe-a3ac4f2b217a","name":"conceptoSeguros","type":"form","lastUpdate":1480605143376,"rows":[[{"type":"formContainer","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"eed9b213-e9a7-4f61-bbb8-4d11c521c2f4","container":{"type":"container","dimension":{"xs":12},"propertyValues":{},"reference":"9253dade-d978-4dad-8b69-5682130696f7","rows":[[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"c5cd7e29-1ef4-4b59-bcb3-13b35fdfe136","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"backgroundTitlle"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"CONCEPTO SEGUROS"},"level":{"type":"constant","value":"Level 4"},"alignment":{"type":"constant","value":"center"}},"reference":"c3b144fc-99ba-4f17-80cb-d518295b8dec","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"4cd22184-8b1b-400b-852b-54f8c5b23dfc","id":"pbText"}],[{"type":"fragment","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"a67bb184-ddde-4210-95e2-0a4fa7885036","id":"43694ce6-7b2a-4366-a8d1-b85a45e0033c","binding":{}}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"9fd650a5-3c62-43bf-bcf3-fb7cd39d5ef6","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":6,"lg":6},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"required":{"type":"constant","value":true},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Próximo Paso"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation","value":"Select an option"},"availableValues":{"type":"constant"},"displayedKey":{"type":"constant","value":"nombre"},"returnedKey":{"type":"constant"},"value":{"type":"variable","value":"formInput.c_conceptoSeguros.proximoPaso"}},"reference":"903d2ffb-89b0-4458-b050-29006da5aafd","id":"pbSelect"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"230981bb-1d92-42a9-9be5-547c9c6d51b0","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"backgroundTitlleAux"},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"text":{"type":"interpolation","value":"Tipologías y Casuísticas"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"ccb40e2c-4355-4c50-ae18-9941958292a7","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"ef596ee9-d183-4083-8645-a379bae580eb","id":"pbText"}],[{"type":"container","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"expression","value":""},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"repeatedCollection":{"type":"variable","value":"formInput.c_conceptoSeguros.tipologiasCasuisticas"}},"reference":"f53d75e0-5821-44b0-a268-c4ef39eb77e1","rows":[[{"type":"fragment","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"323d754a-ae6c-421c-98fb-7b54a44aa729","id":"0def33bc-f913-408a-b88b-22c95462aa7d","binding":{"values":"$item","tipologiaCasuistica":"listaTipologia"}}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"x"},"alignment":{"type":"constant","value":"right"},"buttonStyle":{"type":"constant","value":"danger"},"action":{"type":"constant","value":"Remove from collection"},"url":{"type":"interpolation"},"dataToSend":{"type":"constant"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation"},"collectionToModify":{"type":"variable","value":"$collection"},"collectionPosition":{"type":"constant","value":"Item"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable","value":"$item"}},"reference":"506c7108-0c51-4bf1-a4b2-4e5437b51f78","id":"pbButton"}]]}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"+"},"alignment":{"type":"constant","value":"right"},"buttonStyle":{"type":"constant","value":"primary"},"action":{"type":"constant","value":"Add to collection"},"url":{"type":"interpolation"},"dataToSend":{"type":"constant"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation"},"collectionToModify":{"type":"variable","value":"formInput.c_conceptoSeguros.tipologiasCasuisticas"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"expression","value":"{\"tipologias\": {\"id\": \"\", \"nombre\": \"\"}, \"casuisticas\": {\"id\": \"\", \"nombre\": \"\"}}"},"removeItem":{"type":"variable"}},"reference":"838449b1-b638-4e96-8e23-ba35fee29dab","id":"pbButton"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"59925735-cd40-406d-9e35-f4e1116995be","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"readOnly":{"type":"constant","value":false},"required":{"type":"constant","value":true},"minLength":{"type":"constant","value":""},"maxLength":{"type":"constant","value":500},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Observaciones"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"value":{"type":"variable","value":"formInput.c_conceptoSeguros.observaciones"}},"reference":"3641a700-b3d3-48a5-8fd3-9684c1f2454a","id":"pbTextarea"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"validator"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Máximo 500 caracteres."},"alignment":{"type":"constant","value":"right"}},"reference":"f0b99cad-be44-4ae9-8f3b-e03eff7e8127","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"6974e08a-4bcc-4019-9deb-6bbb734b56b3","id":"pbText"}],[{"type":"component","dimension":{"sm":12,"md":12,"lg":12,"xs":12},"propertyValues":{"removeItem":{"type":"variable"},"alignment":{"type":"constant","value":"center"},"isDisplayed":{"type":"constant","value":true},"targetUrlOnSuccess":{"type":"interpolation","value":"/bonita"},"class":{"type":"constant","value":"org.bonitasoft.web.designer.experimental.parametrizedWidget.ButtonWidget"},"label":{"type":"constant","value":"Enviar"},"collectionPosition":{"type":"constant"},"buttonStyle":{"type":"constant","value":"primary"},"dimension":{"type":"constant","value":12},"valueToAdd":{"type":"expression"},"collectionToModify":{"type":"variable"},"widgetId":{"type":"constant","value":"pbButton"},"labelHidden":{"type":"constant","value":false},"action":{"type":"constant","value":"Submit task"},"dataToSend":{"type":"expression","value":"formOutput"},"readonly":{"type":"constant","value":false},"disabled":{"type":"expression","value":"$form.$invalid"},"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"url":{"type":"interpolation"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"}},"reference":"51af5b2e-5655-4b46-a7c3-cf33274c3e97","id":"pbButton"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"validator"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"{{validador}}"},"alignment":{"type":"constant","value":"center"}},"reference":"6ee61d04-72de-412d-9f34-c47288493f5b","id":"pbText"}]]}}]],"assets":[{"id":"8a235204-080c-4ac5-948d-d41ea5d12c8e","name":"localization.json","type":"json","order":0,"external":false},{"id":"f9959268-0ab3-41ee-9d75-26eac93759e1","name":"styleRadicacion.css","type":"css","order":1,"external":false}],"inactiveAssets":[],"data":{"taskId":{"type":"urlparameter","value":"id","exposed":false},"formOutput":{"type":"expression","value":"return {\n\t'c_conceptoSeguros': $data.formInput.c_conceptoSeguros\n};","exposed":false},"context":{"type":"url","value":"/bonita/API/bpm/userTask/{{taskId}}/context","exposed":false},"formInput":{"type":"json","value":"{\r\n  \"c_conceptoSeguros\" : {\r\n    \"proximoPaso\" : {\r\n      \"id\" : \"\",\r\n      \"nombre\" : \"\"\r\n    },\r\n    \"tipologiasCasuisticas\": [\r\n        {\r\n\t\t\t\"tipologias\": {\r\n\t\t\t\t\"id\" : \" \",\r\n\t\t\t\t\"nombre\" : \"\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\"casuisticas\": {\r\n\t\t\t\t\"id\" : \" \",\r\n\t\t\t\t\"nombre\" : \"\"\r\n\t\t\t} \r\n        }\r\n\t\t],\r\n    \"observaciones\" : \"\"\r\n  }\r\n}","exposed":false},"esTipologiaCasuistica":{"type":"expression","value":"return $data.formInput.c_conceptoSeguros.proximoPaso.id !== undefined && \n       $data.formInput.c_conceptoSeguros.proximoPaso.id === 7;","exposed":false},"observador":{"type":"expression","value":"try{\nif($data.formInput.c_conceptoSeguros.proximoPaso.id === 1){\n    $data.formInput.c_conceptoSeguros.tipologiasCasuisticas = [{tipologias:{id: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t                      nombre: \"N/A\"},\n\t\t\t\t\t\t\t\t\t\t\t\t            casuisticas:{id:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t           nombre: \"N/A\"}}];}\n}catch(Err){}","exposed":false},"validador":{"type":"expression","value":"var lista = []\n\ntry{\n    if ($data.formInput.c_conceptoSeguros.proximoPaso === undefined){\n        lista.push('El campo próximo paso es obligatorio');\n    }\n}catch(Err){}\n\ntry{\n    if($data.esTipologiaCasuistica){\n        console.log('Entro');\n        $data.formInput.c_conceptoSeguros.tipologiasCasuisticas.forEach(function(element, index, array){\n        console.log('Recorrer');\n        if(element.tipologias === undefined || element.casuisticas === undefined){\n            console.log('Agregar');\n            lista.push('Faltan campos por diligenciar en el grupo de tipologías y casuísticas');\n            }\n        } );\n    }\n}catch(Err){}\n\ntry{\n    if ($data.formInput.c_conceptoSeguros.observaciones === \"\"){\n        lista.push('El campo observaciones es obligatorio');\n    }\n}catch(Err){}\n\nreturn lista [0];","exposed":false}}}