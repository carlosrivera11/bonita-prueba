{"designerVersion":"1.2.19","favorite":false,"id":"7880b1f9-4583-4566-ad6a-c8ad2259dc6d","name":"formalizacion","type":"form","lastUpdate":1480958183549,"rows":[[{"type":"container","dimension":{"xs":12,"sm":12,"md":2,"lg":2},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable"}},"reference":"baeb6698-9017-4b0a-b9ba-1c0d038dbc92","rows":[[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"6ccbb064-8ee4-493c-b447-2093adc75afa","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"textPanel imagenPanel"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"<br><br><em>Recuerda, los campos marcados con asterisco (*) son obligatorios.<br><br><br><br><br><br><br><br><br><br>\n<br><br><br><br><br><br><br><br><br><br><br><br><br>\n</em>"},"alignment":{"type":"constant","value":"left"}},"reference":"0d8ece08-ab48-403f-87b8-7f3c97fa4e26","id":"pbText"}]]},{"type":"formContainer","dimension":{"xs":12,"sm":12,"md":10,"lg":10},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"99537707-20a2-4c93-87b0-246480ab864f","container":{"type":"container","dimension":{"xs":12},"propertyValues":{},"reference":"e66c23c0-fac6-406e-ac5e-282cca4dd73c","rows":[[{"type":"container","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"repeatedCollection":{"type":"variable"}},"reference":"30dba8ff-e9e0-4c92-9863-15c46c54dc15","rows":[[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"6633213b-6448-4a9f-bf41-0774e8ee02da","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"backgroundTitlle"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"FORMALIZACIÓN"},"level":{"type":"constant","value":"Level 4"},"alignment":{"type":"constant","value":"center"}},"reference":"da8ff915-6bfb-4015-9975-2e2cf1b8662a","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"be395fc2-c119-407b-a5c2-95576a9bf188","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"textPanel"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"DATOS CLIENTE"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"74b2718f-55c2-4ccd-8775-76d8bd645a62","id":"pbTitle"}],[{"type":"fragment","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"61a02ac8-2b69-4dbb-84da-6871235abc67","id":"43694ce6-7b2a-4366-a8d1-b85a45e0033c","binding":{}}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"6b811a08-4215-469a-9e7e-52aa838a7669","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":6,"lg":6},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"required":{"type":"constant","value":true},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Gestión Giros / Cheques?"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation","value":"Select an option"},"availableValues":{"type":"expression","value":"listaGestionGiroCheques"},"displayedKey":{"type":"constant","value":"nombre"},"returnedKey":{"type":"constant"},"value":{"type":"variable","value":"formInput.c_formalizacion.gestionGiroCheques"}},"reference":"bc5bba0d-8c49-4233-9a71-6f2ab8fc430b","id":"pbSelect"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"readOnly":{"type":"constant","value":false},"required":{"type":"constant","value":true},"minLength":{"type":"constant","value":""},"maxLength":{"type":"constant","value":500},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Observaciones"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"value":{"type":"variable","value":"formInput.c_formalizacion.observaciones"}},"reference":"e86fc718-1afa-4ffd-b6fa-de0aefe07572","id":"pbTextarea"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"validator"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"Máximo 500 caracteres."},"alignment":{"type":"constant","value":"right"}},"reference":"ca6a4db4-1ce6-4a37-9b8c-45df76178717","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":6,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"required":{"type":"constant","value":true},"labelHidden":{"type":"constant","value":false},"label":{"type":"interpolation","value":"Próximo Paso"},"labelPosition":{"type":"constant","value":"top"},"labelWidth":{"type":"constant","value":4},"placeholder":{"type":"interpolation","value":"Select an option"},"availableValues":{"type":"expression","value":"listaProximoPaso"},"displayedKey":{"type":"constant","value":"nombre"},"returnedKey":{"type":"constant"},"value":{"type":"variable","value":"formInput.c_formalizacion.proximoPaso"}},"reference":"599acbf0-a396-4616-8471-bb1c74e5be7f","id":"pbSelect"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"backgroundTitlleAux"},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"text":{"type":"interpolation","value":"Tipologías y Casuísticas"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"ad1b335a-7ddb-4935-a6ae-ab4115160654","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"0d60092d-e796-4e6c-a41d-f5ae9c9a02cb","id":"pbText"}],[{"type":"container","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"repeatedCollection":{"type":"variable","value":"formInput.c_formalizacion.tipologiasCasuisticas"}},"reference":"b96dc336-8d9e-43d2-a1f5-9c8b90a6feba","rows":[[{"type":"fragment","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false}},"reference":"0d7f1341-77ab-4f93-aeed-ff9c1133fd02","id":"dbbd758f-9b01-4e92-80b8-2aa03907ef10","binding":{"values":"$item","tipologiaCasuistica":"formInput"}}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"x"},"alignment":{"type":"constant","value":"right"},"buttonStyle":{"type":"constant","value":"danger"},"action":{"type":"constant","value":"Remove from collection"},"url":{"type":"interpolation"},"dataToSend":{"type":"constant"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation"},"collectionToModify":{"type":"variable","value":"$collection"},"collectionPosition":{"type":"constant","value":"Item"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable","value":"$item"}},"reference":"9839e1de-653a-40dc-a144-cc84a2363bf2","id":"pbButton"}]]}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"expression","value":"!esTipologiaCasuistica"},"disabled":{"type":"constant","value":false},"label":{"type":"interpolation","value":"+"},"alignment":{"type":"constant","value":"right"},"buttonStyle":{"type":"constant","value":"primary"},"action":{"type":"constant","value":"Add to collection"},"url":{"type":"interpolation"},"dataToSend":{"type":"constant"},"dataFromSuccess":{"type":"variable"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation"},"collectionToModify":{"type":"variable","value":"formInput.c_formalizacion.tipologiasCasuisticas"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"expression","value":"{\"tipologias\": {\"id\": \"\", \"nombre\": \"\"}, \"casuisticas\": {\"id\": \"\", \"nombre\": \"\"}}"},"removeItem":{"type":"variable"}},"reference":"9741f32b-ca08-4b98-b802-a6a00a3ed72a","id":"pbButton"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":""},"alignment":{"type":"constant","value":"left"}},"reference":"07e9411e-cef1-4246-b579-900328866ac6","id":"pbText"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":false},"disabled":{"type":"expression","value":"$form.$invalid"},"label":{"type":"interpolation","value":"Enviar"},"alignment":{"type":"constant","value":"center"},"buttonStyle":{"type":"constant","value":"primary"},"action":{"type":"constant","value":"Submit task"},"url":{"type":"interpolation"},"dataToSend":{"type":"expression","value":"formInput"},"dataFromSuccess":{"type":"variable","value":"succes"},"dataFromError":{"type":"variable"},"targetUrlOnSuccess":{"type":"interpolation","value":"/bonita"},"collectionToModify":{"type":"variable"},"collectionPosition":{"type":"constant","value":"Last"},"valueToAdd":{"type":"constant"},"removeItem":{"type":"variable"}},"reference":"1ecffd13-b103-4ae1-bc3c-de68860d8ed7","id":"pbButton"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":"validator"},"hidden":{"type":"constant","value":false},"text":{"type":"interpolation","value":"{{validador}}"},"level":{"type":"constant","value":"Level 5"},"alignment":{"type":"constant","value":"center"}},"reference":"b8e0122e-0f9e-49ad-9efc-b051a0ce02b3","id":"pbTitle"}],[{"type":"component","dimension":{"xs":12,"sm":12,"md":12,"lg":12},"propertyValues":{"cssClasses":{"type":"constant","value":""},"hidden":{"type":"constant","value":true},"text":{"type":"interpolation","value":"<pre>formInput:{{formInput|json}}</pre>"},"alignment":{"type":"constant","value":"left"}},"reference":"06d722e0-355d-4287-8e9f-db9ae549dc40","id":"pbText"}]]}]]}}]],"assets":[{"id":"dd51443e-9efc-4b27-930a-52e41d7e82ee","name":"localization.json","type":"json","order":0,"external":false},{"id":"745602fe-b801-4005-a1c1-b615a34fdca5","name":"styleRadicacion.css","type":"css","order":1,"external":false}],"inactiveAssets":[],"data":{"taskId":{"type":"urlparameter","value":"id","exposed":false},"succes":{"type":"json","value":"{}","exposed":false},"context":{"type":"url","value":"/bonita/API/bpm/userTask/{{taskId}}/context","exposed":false},"formInput":{"type":"json","value":"{\r\n  \"c_formalizacion\" : {\r\n    \"gestionGiroCheques\":{\r\n      \"id\" : \"\",\r\n      \"nombre\" : \"\"\r\n    },\r\n    \"proximoPaso\" : {\r\n      \"id\" : \"\",\r\n      \"nombre\" : \"\"\r\n    },\r\n    \"tipologiasCasuisticas\": [\r\n        {\r\n\t\t\t\"tipologias\": {\r\n\t\t\t\t\"id\" : \" \",\r\n\t\t\t\t\"nombre\" : \"\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\"casuisticas\": {\r\n\t\t\t\t\"id\" : \" \",\r\n\t\t\t\t\"nombre\" : \"\"\r\n\t\t\t} \r\n        }\r\n\t\t],\r\n    \"observaciones\" : \"\"\r\n  }\r\n}","exposed":false},"formOutput":{"type":"expression","value":"return {\n\t'c_formalizacion': $data.formInput.c_formalizacion\n};","exposed":false},"validador":{"type":"expression","value":"var lista = []\n\ntry{\n    if ($data.formInput.c_formalizacion.gestionGiroCheques === undefined){\n        lista.push('El campo gestion giro cheques es obligatorio');\n    }\n}catch(Err){}\n\ntry{\n    if ($data.formInput.c_formalizacion.observaciones === \"\"){\n        lista.push('El campo observaciones es obligatorio');\n    }\n}catch(Err){}\n\ntry{\n    if ($data.formInput.c_formalizacion.proximoPaso === undefined){\n        lista.push('El campo próximo paso es obligatorio');\n    }\n}catch(Err){}\n\ntry{\n    if($data.esTipologiaCasuistica){\n        console.log('Entro');\n        $data.formInput.c_formalizacion.tipologiasCasuisticas.forEach(function(element, index, array){\n        console.log('Recorrer');\n        if(element.tipologias === undefined || element.casuisticas === undefined){\n            console.log('Agregar');\n            lista.push('Faltan campos por diligenciar en el grupo de tipologías y casuísticas');\n            }\n        } );\n    }\n}catch(Err){}\n\nreturn lista [0];","exposed":false},"listaProximoPaso":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=ppFormalizacion","exposed":false},"listaTipologia":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=tipologiaFormalizacion","exposed":false},"listaCasuistica":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=casuisticaFormalizacion&p={{formInput.c_formalizacion.tipologiasCasuisticas.tipologias.id}}","exposed":false},"esTipologiaCasuistica":{"type":"expression","value":"return $data.formInput.c_formalizacion.proximoPaso.id !== undefined && \n       $data.formInput.c_formalizacion.proximoPaso.id === 24;","exposed":false},"observador":{"type":"expression","value":"try{\nif($data.formInput.c_formalizacion.proximoPaso.id === 1){\n    $data.formInput.c_formalizacion.tipologiasCasuisticas = [{tipologias:{id: 0,\n\t\t\t\t\t\t\t\t\t\t\t\t                      nombre: \"N/A\"},\n\t\t\t\t\t\t\t\t\t\t\t\t            casuisticas:{id:0,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t           nombre: \"N/A\"}}];}\n}catch(Err){}","exposed":false},"listaGestionGiroCheques":{"type":"url","value":"../API/extension/ConsultaListasAPI?c=gestionGiroChequesFormalizacion","exposed":false}}}